{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "SchemaLib",
	"scopeName": "source.schemalib",
	"fileTypes": [
		"slib",
		"schemalib"
	],
	"patterns": [
		{
			"include": "#comments"
		},
		{
			"include": "#namespace"
		},
		{
			"include": "#use"
		},
		{
			"name": "meta.fragment",
			"comment": "a fragment definintion",
			"match": "(fragment)\\s*([_A-Za-z][_0-9A-Za-z]*)\\s*(on)\\s*([_A-Za-z][_0-9A-Za-z]*)",
			"captures": {
				"1": {
					"name": "storage.type"
				},
				"2": {
					"name": "variable.other"
				},
				"3": {
					"name": "keyword.operator"
				},
				"4": {
					"name": "support.constant"
				}
			}
		},
		{
			"name": "declaration.meta.type",
			"comment": "a schemalib type",
			"match": "(type|app|service|enum)\\s*([_A-Za-z][_0-9A-Za-z]*)",
			"captures": {
				"1": {
					"name": "keyword"
				},
				"2": {
					"name": "support"
				}
			}
		},
		{
			"name": "meta.operation",
			"comment": "an operation definition",
			"match": "(query|mutation)\\s*([_A-Za-z][_0-9A-Za-z]*)",
			"captures": {
				"1": {
					"name": "storage.type"
				},
				"2": {
					"name": "variable.other"
				}
			}
		},
		{
			"include": "#arguments"
		},
		{
			"include": "#selections"
		}
	],
	"repository": {
		"namespace": {
			"match": "(namespace)\\s*([_0-9A-Za-z\\.\\/]*)",
			"captures": {
				"1": {
					"name": "support.type"
				},
				"2": {
					"name": "variable.other"
				}
			}
		},
		"use": {
			"match": "(use)\\s*([_0-9A-Za-z\\.\\/]*)",
			"captures": {
				"1": {
					"name": "support.type"
				},
				"2": {
					"name": "variable.other"
				}
			}
		},
		"string": {
			"name": "string.quoted.double",
			"begin": "\"",
			"beginCaptures": {
				"0": {
					"name": "punctuation.definition.string.begin"
				}
			},
			"end": "\"",
			"endCaptures": {
				"0": {
					"name": "punctuation.definition.string.end"
				}
			},
			"patterns": [
				{
					"include": "#escapedChar"
				}
			]
		},
		"variable": {
			"name": "constant.other.symbol",
			"match": "\\$[_A-Za-z][_0-9A-Za-z]*"
		},
		"boolean": {
			"name": "constant.language.boolean",
			"match": "true|false"
		},
		"number": {
			"name": "constant.numeric",
			"match": "\\d+\\.?\\d*[eE]?[\\+\\-]?\\d*"
		},
		"directive": {
			"name": "storage.modifier",
			"match": "@[a-z]+"
		},
		"argument": {
			"name": "variable.parameter",
			"match": "[_A-Za-z][_0-9A-Za-z]*:"
		},
		"enum": {
			"name": "support.constant.enum",
			"match": "[_A-Za-z][_0-9A-Za-z]*"
		},
		"fragmentSpread": {
			"match": "(\\.\\.\\.)\\s*([_A-Za-z][_0-9A-Za-z]*)\\s*(on)?",
			"captures": {
				"1": {
					"name": "keyword.operator"
				},
				"2": {
					"name": "variable.other"
				}
			}
		},
		"inlineFragment": {
			"match": "(\\.\\.\\.)\\s*(on)\\s*([_A-Za-z][_0-9A-Za-z]*)",
			"captures": {
				"1": {
					"name": "keyword.operator"
				},
				"2": {
					"name": "keyword.operator"
				},
				"3": {
					"name": "support.constant"
				}
			}
		},
		"arguments": {
			"name": "meta.arguments",
			"begin": "\\(",
			"beginCaptures": {
				"0": {
					"name": "meta.brace.round.schemalib"
				}
			},
			"end": "\\)",
			"endCaptures": {
				"0": {
					"name": "meta.brace.round.schemalib"
				}
			},
			"patterns": [
				{
					"include": "#argument"
				},
				{
					"include": "#string"
				},
				{
					"include": "#boolean"
				},
				{
					"include": "#variable"
				},
				{
					"include": "#number"
				},
				{
					"include": "#enum"
				},
				{
					"include": "#comments"
				}
			]
		},
		"selections": {
			"name": "meta.selections",
			"begin": "\\{",
			"beginCaptures": {
				"0": {
					"name": "meta.brace.curly.schemalib"
				}
			},
			"end": "\\}",
			"endCaptures": {
				"0": {
					"name": "meta.brace.curly.schemalib"
				}
			},
			"patterns": [
				{
					"include": "#fieldAlias"
				},
				{
					"include": "#inlineFragment"
				},
				{
					"include": "#fragmentSpread"
				},
				{
					"include": "#directive"
				},
				{
					"include": "#arguments"
				},
				{
					"include": "#comments"
				},
				{
					"include": "#selections"
				},
				{
					"include": "#builtInField"
				}
			]
		},
		"comments": {
			"patterns": [
				
				{
					"name": "comment.line.number-sign.schemalib",
					"match": "(#.*$|//.*$)"
				},
				{
					"begin": "/\\*",
					"captures": {
						"0": {
							"name": "punctuation.definition.comment.php"
						}
					},
					"end": "\\*/",
					"name": "comment.block.php"
				}
			]
		},
		"builtInField": {
			"match": "__schema|__typename|__type",
			"name": "keyword.other.schemalib"
		},
		"escapedChar": {
			"match": "\\\\(?:u[\\da-fA-f]{4}|.)",
			"name": "constant.character.escape.schemalib"
		},
		"fieldAlias": {
			"match": "[_A-Za-z][_0-9A-Za-z]*:",
			"name": "variable.other.alias.schemalib"
		}
	}
}